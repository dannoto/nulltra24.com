---
import ProductCard from "./ProductCard.astro";

// Define as props que o componente vai receber
interface Props {
  posts: any[];
  title?: string;
}

// Recebe as props
const { posts, title = "Related Suplements" } = Astro.props;
---

<style>
  .full-width-section {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50.4vw;
    margin-right: -50.4vw;
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none; /* Internet Explorer 10+ */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }

  /* Navigation buttons styling */
  .nav-buttons {
    justify-content: flex-end;
    gap: 10px;
    margin-bottom: 15px;
    padding-right: 0px;
  }

  /* Hide navigation on medium screens and up */
  @media (min-width: 768px) {
    .nav-buttons {
      display: none !important;
    }
  }

  .custom-nav-button {
    color: #4caf50 !important;
    background: rgba(255, 255, 255, 0.9);
    width: 35px !important;
    height: 35px !important;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    border: 1px solid #e0e0e0;
    cursor: pointer;
    /* font-size: 18px; */
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
  }

  .custom-nav-button:hover {
    background: rgba(76, 175, 80, 0.1);
  }
</style>

<div class="flex justify-between items-center mb-6">
  <h2 class="text-xl sm:text-2xl font-bold !mt-0 !mb-0">{title}</h2>
</div>

{
  posts.length > 0 && (
    <div
      class="justify-center justify-items-center"
      style="margin: auto !important;max-width: 1200px;"
    >
      <div
        id="productsGrid"
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[25px] md:gap-[50px]  justify-center lg:justify-items-start"
      >
        {posts.map((post: any) => (
          <div
            class="w-full flex justify-center  lg:justify-start"
            data-title={post.data.title}
            data-category={post.data.category}
          >
            <ProductCard
              title={post.data.mainTitle}
              description={post.data.description}
              image={post.data.image}
              background={post.data.image}
              category={post.data.category}
              categoryColor={post.data.categoryColor || "green"}
              slug={post.slug}
              reviews={post.data.reviews}
            />
          </div>
        ))}
      </div>
    </div>
  )
}
